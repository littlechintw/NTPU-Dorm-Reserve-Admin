"use strict";(self["webpackChunkntpu_dorm_check_in"]=self["webpackChunkntpu_dorm_check_in"]||[]).push([[618],{8618:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var s=a(7179),i=a(3058),o=a(4437),n=a(6035),r=a(8236),l=a(5294),c=function(){var t=this,e=t._self._c;return e("div",[e(i.Z,{attrs:{elevation:"0"}},[e(n.Z,{attrs:{fluid:""}},[e(l.Z,[e(o.Z,{attrs:{cols:"12"}},[e(l.Z,{attrs:{align:"center",justify:"center",length:""}},[e("br")]),e(l.Z,{directives:[{name:"show",rawName:"v-show",value:!t.loginStatus,expression:"!loginStatus"}],attrs:{align:"center",justify:"center",length:""}},[e("about")],1)],1)],1)],1),e(n.Z,{directives:[{name:"show",rawName:"v-show",value:t.isTrueAdmin,expression:"isTrueAdmin"}],attrs:{fluid:""}},[e("Announcement"),e("br"),e("br"),e("h1",[t._v("所有資料刪除")]),e("h3",[t._v("這個功能會刪除所有報到資料，極為危險，請謹慎使用。")]),e("br"),e("br"),e(s.Z,{staticClass:"mx-2",attrs:{color:"red"},on:{click:function(e){t.overlay=!0}}},[t._v("我要刪除所有資料")]),e(r.Z,{staticClass:"align-center justify-center",attrs:{contained:""},model:{value:t.overlay,callback:function(e){t.overlay=e},expression:"overlay"}},[e(i.Z,{attrs:{width:"window_width * 0.7"}},[e("h1",{staticClass:"ma-2"},[t._v("你確定你可以使用這個功能？")]),e("h3",{staticClass:"ma-2"},[t._v("這個功能會刪除所有報到資料，極為危險，請謹慎使用。")]),e(s.Z,{staticClass:"ma-2",attrs:{color:"red"},on:{click:t.delete_all_data_api}},[t._v(" 確定 ")]),e(s.Z,{staticClass:"ma-2",attrs:{color:"success"},on:{click:function(e){t.overlay=!1}}},[t._v(" 取消 ")])],1)],1),e("br"),e("br")],1)],1)],1)},u=[],d=(a(7658),a(8630)),h=a(6603);a(7869);const v=a(9669);var m=a(1181),y={name:"Home",data(){return{initOverlay:!0,window_height:100,window_width:100,overlay:!1,isAdmin:!1,isTrueAdmin:!1,alertMsg:"",overlay:!1}},components:{About:d.Z,Announcement:h.Z},methods:{verify_admin(){let t=this;t.initOverlay=!0,v({method:"post",url:m.apiurl+"/admin/verify",headers:{Authorization:t.$cookie.get("token")}}).then((function(e){t.initOverlay=!1,console.log(e.data),t.initOverlay=!1,200===e.data.code?(console.log("You can access!"),console.log(e.data),"admin"===e.data.message.rule&&(t.isTrueAdmin=!0),t.isAdmin=!0):console.log(e.data),403===e.data.code&&(alert("You bad bad :("),t.$router.push("/logout"))})).catch((function(e){403===e.response.status?t.$router.push("/logout"):alert(e)}))},delete_all_data_api(){let t=this;t.initOverlay=!0,v({method:"get",url:m.apiurl+"/admin/delete_all_data",headers:{Authorization:t.$cookie.get("token")}}).then((function(e){t.initOverlay=!1,console.log(e.data),t.initOverlay=!1,200===e.data.code&&(t.overlay=!1,alert("已成功清除")),403===e.data.code&&(alert("You bad bad :("),t.$router.push("/logout")),200!==e.data.code&&403!==e.data.code&&alert("刪除失敗")})).catch((function(e){403===e.response.status?t.$router.push("/logout"):alert(e)}))}},mounted:function(){this.$cookie.get("token")?(this.loginStatus=!0,this.verify_admin()):this.$router.push("/login"),this.window_height=window.innerHeight,this.window_width=window.innerWidth}},_=y,p=a(1001),g=(0,p.Z)(_,c,u,!1,null,null,null),f=g.exports},8236:function(t,e,a){a.d(e,{Z:function(){return r}});a(7658);var s=a(8914),i=a(3276),o=a(6470),n=a(4987),r=(0,n.Z)(s.Z,i.Z,o.Z).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim(){const t=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",t)},classes(){return{"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive,...this.themeClasses}},computedOpacity(){return Number(this.isActive?this.opacity:0)},styles(){return{zIndex:this.zIndex}}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render(t){const e=[this.__scrim];return this.isActive&&e.push(this.genContent()),t("div",{staticClass:"v-overlay",on:this.$listeners,class:this.classes,style:this.styles},e)}})}}]);
//# sourceMappingURL=618.4f1a1bc8.js.map