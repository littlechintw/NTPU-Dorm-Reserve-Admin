{"version":3,"file":"js/618.4f1a1bc8.js","mappings":"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","sources":["webpack://ntpu-dorm-check-in/./src/views/DoneForAllTasks.vue","webpack://ntpu-dorm-check-in/src/views/DoneForAllTasks.vue","webpack://ntpu-dorm-check-in/./src/views/DoneForAllTasks.vue?1a1a","webpack://ntpu-dorm-check-in/./src/views/DoneForAllTasks.vue?3818","webpack://ntpu-dorm-check-in/../../../src/components/VOverlay/VOverlay.ts"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-card',{attrs:{\"elevation\":\"0\"}},[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\",\"length\":\"\"}},[_c('br')]),_c('v-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loginStatus),expression:\"!loginStatus\"}],attrs:{\"align\":\"center\",\"justify\":\"center\",\"length\":\"\"}},[_c('about')],1)],1)],1)],1),_c('v-container',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isTrueAdmin),expression:\"isTrueAdmin\"}],attrs:{\"fluid\":\"\"}},[_c('Announcement'),_c('br'),_c('br'),_c('h1',[_vm._v(\"所有資料刪除\")]),_c('h3',[_vm._v(\"這個功能會刪除所有報到資料，極為危險，請謹慎使用。\")]),_c('br'),_c('br'),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"color\":\"red\"},on:{\"click\":function($event){_vm.overlay = true}}},[_vm._v(\"我要刪除所有資料\")]),_c('v-overlay',{staticClass:\"align-center justify-center\",attrs:{\"contained\":\"\"},model:{value:(_vm.overlay),callback:function ($$v) {_vm.overlay=$$v},expression:\"overlay\"}},[_c('v-card',{attrs:{\"width\":\"window_width * 0.7\"}},[_c('h1',{staticClass:\"ma-2\"},[_vm._v(\"你確定你可以使用這個功能？\")]),_c('h3',{staticClass:\"ma-2\"},[_vm._v(\"這個功能會刪除所有報到資料，極為危險，請謹慎使用。\")]),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"color\":\"red\"},on:{\"click\":_vm.delete_all_data_api}},[_vm._v(\" 確定 \")]),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"color\":\"success\"},on:{\"click\":function($event){_vm.overlay = false}}},[_vm._v(\" 取消 \")])],1)],1),_c('br'),_c('br')],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-card elevation=\"0\">\n      <!-- 輸入表單 -->\n      <v-container fluid>\n        <v-row>\n          <v-col cols=\"12\">\n            <v-row align=\"center\" justify=\"center\" length><br /></v-row>\n            <v-row v-show=\"!loginStatus\" align=\"center\" justify=\"center\" length>\n              <about />\n            </v-row>\n\n          </v-col>\n        </v-row>\n      </v-container>\n\n      <v-container v-show=\"isTrueAdmin\" fluid>\n        <Announcement />\n\n        <br /><br />\n        <h1>所有資料刪除</h1>\n        <h3>這個功能會刪除所有報到資料，極為危險，請謹慎使用。</h3>\n        <br /><br />\n\n        <v-btn class=\"mx-2\" color=\"red\" @click=\"overlay = true\">我要刪除所有資料</v-btn>\n\n        <v-overlay v-model=\"overlay\" contained class=\"align-center justify-center\">\n          <v-card width=\"window_width * 0.7\">\n            <h1 class=\"ma-2\">你確定你可以使用這個功能？</h1>\n            <h3 class=\"ma-2\">這個功能會刪除所有報到資料，極為危險，請謹慎使用。</h3>\n            <v-btn class=\"ma-2\" color=\"red\" @click=\"delete_all_data_api\">\n              確定\n            </v-btn>\n            <v-btn class=\"ma-2\" color=\"success\" @click=\"overlay = false\">\n              取消\n            </v-btn>\n          </v-card>\n        </v-overlay>\n\n\n        <br /><br />\n      </v-container>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport About from \"../components/About\";\nimport Announcement from \"../components/Announcement.vue\";\nconst axios = require(\"axios\");\nvar config = require(\"../../config.json\");\nimport { read, utils } from 'xlsx';\n\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      initOverlay: true,\n      window_height: 100,\n      window_width: 100,\n      overlay: false,\n      isAdmin: false,\n      isTrueAdmin: false,\n      alertMsg: \"\",\n\n      overlay: false,\n    };\n  },\n  components: {\n    About,\n    Announcement,\n  },\n  methods: {\n    verify_admin() {\n      let self = this;\n      self.initOverlay = true;\n      axios({\n        method: 'post',\n        url: config.apiurl + \"/admin/verify\",\n        headers: {\n          'Authorization': self.$cookie.get(\"token\"),\n        },\n      })\n        .then(function (response) {\n          self.initOverlay = false;\n          console.log(response.data);\n          self.initOverlay = false;\n          if (response.data.code === 200) {\n            console.log('You can access!')\n            console.log(response.data)\n            if (response.data.message.rule === \"admin\") {\n              self.isTrueAdmin = true;\n            }\n            self.isAdmin = true\n          } else {\n            console.log(response.data)\n          }\n          if (response.data.code === 403) {\n            alert(\"You bad bad :(\");\n            self.$router.push(\"/logout\");\n          }\n        })\n        .catch(function (error) {\n          if (error.response.status === 403) {\n            self.$router.push(\"/logout\");\n          }\n          else {\n            alert(error);\n          }\n        });\n    },\n    delete_all_data_api() {\n      let self = this;\n      self.initOverlay = true;\n      axios({\n        method: 'get',\n        url: config.apiurl + \"/admin/delete_all_data\",\n        headers: {\n          'Authorization': self.$cookie.get(\"token\"),\n        },\n      })\n        .then(function (response) {\n          self.initOverlay = false;\n          console.log(response.data);\n          self.initOverlay = false;\n          if (response.data.code === 200) {\n            self.overlay = false;\n            alert(\"已成功清除\")\n          }\n          if (response.data.code === 403) {\n            alert(\"You bad bad :(\");\n            self.$router.push(\"/logout\");\n          }\n          if (response.data.code !== 200 && response.data.code !== 403) {\n            alert(\"刪除失敗\")\n          }\n        })\n        .catch(function (error) {\n          if (error.response.status === 403) {\n            self.$router.push(\"/logout\");\n          }\n          else {\n            alert(error);\n          }\n        });\n    },\n\n\n  },\n  mounted: function () {\n    if (this.$cookie.get(\"token\")) {\n      this.loginStatus = true;\n      this.verify_admin();\n    }\n    else {\n      this.$router.push(\"/login\");\n    }\n    this.window_height = window.innerHeight;\n    this.window_width = window.innerWidth;\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DoneForAllTasks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DoneForAllTasks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DoneForAllTasks.vue?vue&type=template&id=b98dbf28&\"\nimport script from \"./DoneForAllTasks.vue?vue&type=script&lang=js&\"\nexport * from \"./DoneForAllTasks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Styles\nimport './VOverlay.sass'\n\n// Mixins\nimport Colorable from './../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\nimport Toggleable from './../../mixins/toggleable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default mixins(\n  Colorable,\n  Themeable,\n  Toggleable\n).extend({\n  name: 'v-overlay',\n\n  props: {\n    absolute: Boolean,\n    color: {\n      type: String,\n      default: '#212121',\n    },\n    dark: {\n      type: Boolean,\n      default: true,\n    },\n    opacity: {\n      type: [Number, String],\n      default: 0.46,\n    },\n    value: {\n      default: true,\n    },\n    zIndex: {\n      type: [Number, String],\n      default: 5,\n    },\n  },\n\n  computed: {\n    __scrim (): VNode {\n      const data = this.setBackgroundColor(this.color, {\n        staticClass: 'v-overlay__scrim',\n        style: {\n          opacity: this.computedOpacity,\n        },\n      })\n\n      return this.$createElement('div', data)\n    },\n    classes (): object {\n      return {\n        'v-overlay--absolute': this.absolute,\n        'v-overlay--active': this.isActive,\n        ...this.themeClasses,\n      }\n    },\n    computedOpacity (): number {\n      return Number(this.isActive ? this.opacity : 0)\n    },\n    styles (): object {\n      return {\n        zIndex: this.zIndex,\n      }\n    },\n  },\n\n  methods: {\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-overlay__content',\n      }, this.$slots.default)\n    },\n  },\n\n  render (h): VNode {\n    const children = [this.__scrim]\n\n    if (this.isActive) children.push(this.genContent())\n\n    return h('div', {\n      staticClass: 'v-overlay',\n      on: this.$listeners,\n      class: this.classes,\n      style: this.styles,\n    }, children)\n  },\n})\n"],"names":["attrs","directives","rawName","value","expression","_c","isTrueAdmin","staticClass","_vm","model","callback","$$v","overlay","_v","on","staticRenderFns","axios","config","name","data","initOverlay","window_height","window_width","isAdmin","alertMsg","components","About","Announcement","methods","verify_admin","self","method","url","headers","then","console","alert","catch","delete_all_data_api","mounted","component","render","mixins","Colorable","Themeable","Toggleable","extend","props","absolute","Boolean","color","type","String","default","dark","opacity","Number","zIndex","computed","__scrim","this","setBackgroundColor","style","computedOpacity","$createElement","classes","isActive","themeClasses","styles","genContent","$slots","h","children","push","$listeners","class"],"sourceRoot":""}